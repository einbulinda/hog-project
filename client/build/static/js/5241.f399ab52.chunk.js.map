{"version":3,"file":"static/js/5241.f399ab52.chunk.js","mappings":"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","sources":["pages/admin-pages/products/AdminAddProducts.js","../node_modules/@mui/icons-material/AddBusiness.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport { storage } from \"services/utils\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  FormHelperText,\r\n  Grid,\r\n  MenuItem,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nimport DashboardHeader from \"components/navigation-components/DashboardHeader\";\r\nimport { CustomLink } from \"components/styled-components/CustomLink\";\r\nimport { ADMIN_PRODUCTS } from \"navigation/CONSTANTS\";\r\nimport AddBusinessIcon from \"@mui/icons-material/AddBusiness\";\r\nimport { createProduct } from \"redux/actions/productActions\";\r\nimport { Box } from \"@mui/system\";\r\nimport { productSchema } from \"validations\";\r\nimport { useNavigate } from \"react-router\";\r\nimport DropZone from \"components/styled-components/DropZone\";\r\n\r\nconst mapState = ({ productsData, categoriesData }) => ({\r\n  loading: productsData.loading,\r\n  categories: categoriesData.categories,\r\n});\r\n\r\nconst AdminAddProducts = () => {\r\n  const dispatch = useDispatch();\r\n  const { loading, categories } = useSelector(mapState);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [saving, setSaving] = useState(loading);\r\n\r\n  useEffect(() => {\r\n    loading && setSaving(loading);\r\n  }, [loading]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // handling file upload\r\n  const handleOnDrop = (file) => {\r\n    setUploading(true);\r\n    const imageFile = file[0];\r\n    const productRef = ref(storage, `products/${imageFile.name}`);\r\n\r\n    uploadBytes(productRef, imageFile).then((snapshot) => {\r\n      setUploading(false);\r\n\r\n      // setting file URL\r\n      getDownloadURL(productRef)\r\n        .then((url) => {\r\n          setImageUrl(url);\r\n        })\r\n        .catch((error) => {\r\n          switch (error.code) {\r\n            case \"storage/object-not-found\":\r\n              console.log(\"No object exists at the desired reference.\");\r\n              break;\r\n            case \"storage/bucket-not-found\":\r\n              console.log(\"No bucket is configured for Cloud Storage\");\r\n              break;\r\n            case \"storage/quota-exceeded\":\r\n              console.log(\r\n                \"Quota on your Cloud Storage bucket has been exceeded.\"\r\n              );\r\n              break;\r\n\r\n            default:\r\n              console.log(\"An error ocurred\");\r\n              break;\r\n          }\r\n        });\r\n    });\r\n  };\r\n\r\n  const handleFormSubmit = (newProduct, { resetForm }) => {\r\n    newProduct.image = imageUrl;\r\n    dispatch(createProduct(newProduct));\r\n    resetForm({});\r\n    !saving && navigate(ADMIN_PRODUCTS);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DashboardHeader\r\n        title=\"Add Product\"\r\n        icon={AddBusinessIcon}\r\n        button={\r\n          <CustomLink path={ADMIN_PRODUCTS}>\r\n            <Button variant=\"contained\" color=\"error\" sx={{ px: \"2rem\" }}>\r\n              Products List\r\n            </Button>\r\n          </CustomLink>\r\n        }\r\n      />\r\n      <Card sx={{ p: \"3rem\" }}>\r\n        <Formik\r\n          initialValues={initialValues}\r\n          validationSchema={productSchema}\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          <Form>\r\n            <Grid container spacing={3}>\r\n              <Grid item sm={6} xs={12}>\r\n                <Field\r\n                  name=\"name\"\r\n                  label=\"Product Name\"\r\n                  placeholder=\"Product Name\"\r\n                  fullWidth\r\n                  as={TextField}\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"name\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Field\r\n                  name=\"category\"\r\n                  label=\"Select Category\"\r\n                  fullWidth\r\n                  select\r\n                  as={TextField}\r\n                >\r\n                  {categories.map((category) => {\r\n                    const { name, status, _id } = category;\r\n                    return (\r\n                      <MenuItem value={name} key={_id}>\r\n                        {status && name}\r\n                      </MenuItem>\r\n                    );\r\n                  })}\r\n                </Field>\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"category\"\r\n                />\r\n              </Grid>\r\n              {imageUrl ? (\r\n                <>\r\n                  <Grid item xs={8}>\r\n                    <Field as={DropZone} onDrop={handleOnDrop} name=\"image\" />\r\n                    <ErrorMessage\r\n                      component={FormHelperText}\r\n                      error={true}\r\n                      size=\"large\"\r\n                      sx={{ ml: 1 }}\r\n                      name=\"image\"\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4}>\r\n                    <Box>\r\n                      {uploading ? (\r\n                        <Typography variant=\"subtitle1\">\r\n                          Uploading...\r\n                        </Typography>\r\n                      ) : (\r\n                        <Typography\r\n                          component=\"img\"\r\n                          src={imageUrl}\r\n                          alt=\"Upload Image\"\r\n                          sx={{\r\n                            width: \"100%\",\r\n                            height: 200,\r\n                            objectFit: \"contain\",\r\n                          }}\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                  </Grid>\r\n                </>\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  <Field as={DropZone} onDrop={handleOnDrop} name=\"image\" />\r\n                  <ErrorMessage\r\n                    component={FormHelperText}\r\n                    error={true}\r\n                    size=\"large\"\r\n                    sx={{ ml: 1 }}\r\n                    name=\"image\"\r\n                  />\r\n                </Grid>\r\n              )}\r\n\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  name=\"description\"\r\n                  label=\"Description\"\r\n                  placeholder=\"Description\"\r\n                  rows={6}\r\n                  multiline\r\n                  as={TextField}\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"description\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={4} xs={12}>\r\n                <Field\r\n                  name=\"qty\"\r\n                  label=\"Quantity in Stock\"\r\n                  placeholder=\"Stock\"\r\n                  as={TextField}\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"qty\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={4} xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"brand\"\r\n                  label=\"Product Brand\"\r\n                  placeholder=\"Arshia\"\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"brand\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={4} xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"cost\"\r\n                  label=\"Cost Price\"\r\n                  placeholder=\"Cost Price\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"cost\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"price\"\r\n                  label=\"Price\"\r\n                  placeholder=\"Price\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"price\"\r\n                />\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"discount\"\r\n                  label=\"Discount Amount\"\r\n                  placeholder=\"Discount Value\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                />\r\n                <ErrorMessage\r\n                  component={FormHelperText}\r\n                  error={true}\r\n                  size=\"large\"\r\n                  sx={{ ml: 1 }}\r\n                  name=\"discount\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={12} sx={{ justifyContent: \"center\" }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  sx={{ mt: \"2rem\", mx: \"2rem\" }}\r\n                  disabled={saving}\r\n                >\r\n                  {saving ? \"Saving...\" : \"Save Product\"}\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  type=\"reset\"\r\n                  sx={{ mt: \"2rem\", mx: \"2rem\" }}\r\n                >\r\n                  Clear Form\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        </Formik>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AdminAddProducts;\r\n\r\nconst initialValues = {\r\n  name: \"\",\r\n  brand: \"\",\r\n  category: \"\",\r\n  qty: \"\",\r\n  cost: \"\",\r\n  price: \"\",\r\n  discount: \"\",\r\n  image: null,\r\n  description: \"\",\r\n};\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 17h2v-3h1v-2l-1-5H2l-1 5v2h1v6h9v-6h4v3zm-6 1H4v-4h5v4zM2 4h15v2H2z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 18v-3h-2v3h-3v2h3v3h2v-3h3v-2z\"\n}, \"1\")], 'AddBusiness');\n\nexports.default = _default;"],"names":["mapState","productsData","categoriesData","loading","categories","dispatch","useDispatch","useSelector","useState","uploading","setUploading","imageUrl","setImageUrl","saving","setSaving","useEffect","navigate","useNavigate","handleOnDrop","file","imageFile","productRef","ref","storage","name","uploadBytes","then","snapshot","getDownloadURL","url","catch","error","code","console","log","title","icon","AddBusinessIcon","button","path","ADMIN_PRODUCTS","variant","color","sx","px","p","initialValues","validationSchema","productSchema","onSubmit","newProduct","resetForm","image","createProduct","container","spacing","item","sm","xs","label","placeholder","fullWidth","as","TextField","component","FormHelperText","size","ml","select","map","category","status","_id","value","DropZone","onDrop","src","alt","width","height","objectFit","rows","multiline","type","justifyContent","mt","mx","disabled","brand","qty","cost","price","discount","description","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}