"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4871],{84871:function(e,t,n){n.r(t);var r=n(70885),a=n(96166),s=n(36151),c=n(57621),o=n(61889),i=n(97438),l=n(47071),u=n(64387),d=n(68870),m=n(20890),p=n(67915),x=n(97834),h=n(75192),g=n(74453),f=n(55705),j=n(66383),v=n(72791),Z=n(16030),y=n(16871),b=n(70660),P=n(7301),k=n(94956),w=n(93611),z=n(80184),N=function(e){var t=e.productsData,n=e.categoriesData;return{product:t.product,loading:t.loading,categories:n.categories}};t.default=function(){var e=(0,Z.I0)(),t=(0,y.s0)(),n=(0,Z.v9)(N),B=n.product,S=n.loading,C=n.categories,D=(0,v.useState)(!1),W=(0,r.Z)(D,2),A=W[0],q=W[1],F=(0,v.useState)(""),H=(0,r.Z)(F,2),I=H[0],J=H[1],M=(0,v.useState)(S),V=(0,r.Z)(M,2),E=V[0],L=(V[1],(0,y.UO)().id),O=B.image,U=B.name,_=B.qty,G=B.price,K=B.brand,Q=B.description,X=B.category,Y=B.cost,R=B.discount,T={image:Array.isArray(O)?O[0]:O,name:U,qty:_,price:G,brand:K,description:Q,category:X,cost:Y,discount:R},$=function(e){q(!0);var t=e[0],n=(0,g.iH)(k.t,"products/".concat(t.name));(0,g.KV)(n,t).then((function(e){q(!1),(0,g.Jt)(n).then((function(e){J(e)})).catch((function(e){switch(e.code){case"storage/object-not-found":console.log("No object exists at the desired reference.");break;case"storage/bucket-not-found":console.log("No bucket is configured for Cloud Storage");break;case"storage/quota-exceeded":console.log("Quota on your Cloud Storage bucket has been exceeded.");break;default:console.log("An error ocurred")}}))}))};(0,v.useEffect)((function(){e((0,P.wv)(L)),e((0,b.tG)())}),[e,L]);return B&&(0,z.jsxs)(v.Fragment,{children:[(0,z.jsx)(p.Z,{title:"Edit Product ".concat(L),icon:a.Z,button:(0,z.jsx)(x.x,{path:j.Ow,children:(0,z.jsx)(s.Z,{variant:"contained",color:"error",sx:{px:"2rem"},children:"Products List"})})}),(0,z.jsx)(c.Z,{sx:{p:"3rem"},children:B&&(0,z.jsx)(f.J9,{initialValues:T,validationSchema:w.Iy,onSubmit:function(n,r){var a=r.resetForm,s=[];I?s.push(I,n.image):s.push(n.image),delete n.image,n.image=s,n._id=L,e((0,P.nM)(n)),a({}),t(j.Ow)},children:(0,z.jsx)(f.l0,{children:(0,z.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,z.jsxs)(o.ZP,{item:!0,sm:6,xs:12,children:[(0,z.jsx)(f.gN,{name:"name",label:"Product Name",placeholder:"Product Name",fullWidth:!0,as:i.Z}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"name"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:6,xs:12,children:[(0,z.jsx)(f.gN,{name:"category",label:"Select Category",fullWidth:!0,select:!0,as:i.Z,children:C.map((function(e){var t=e.name,n=e.status,r=e._id;return(0,z.jsx)(u.Z,{value:t,children:n&&t},r)}))}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"category"})]}),I?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(o.ZP,{item:!0,xs:8,children:[(0,z.jsx)(f.gN,{as:h.Z,onDrop:$,name:"image"}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"image"})]}),(0,z.jsx)(o.ZP,{item:!0,xs:4,children:(0,z.jsx)(d.Z,{children:A?(0,z.jsx)(m.Z,{variant:"subtitle1",children:"Uploading..."}):(0,z.jsx)(m.Z,{component:"img",src:I||B.image,alt:"Upload Image",sx:{width:"100%",height:200,objectFit:"contain"}})})})]}):(0,z.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,z.jsx)(f.gN,{as:h.Z,onDrop:$,name:"image"}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"image"})]}),(0,z.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,z.jsx)(f.gN,{name:"description",label:"Description",placeholder:"Description",rows:6,multiline:!0,as:i.Z,fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"description"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:4,xs:12,children:[(0,z.jsx)(f.gN,{name:"qty",label:"Quantity in Stock",placeholder:"Stock",as:i.Z,fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"qty"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:4,xs:12,children:[(0,z.jsx)(f.gN,{as:i.Z,name:"brand",label:"Product Brand",placeholder:"Arshia",fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"brand"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:4,xs:12,children:[(0,z.jsx)(f.gN,{as:i.Z,name:"cost",label:"Cost Price",placeholder:"Cost Price",type:"number",fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"cost"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:6,xs:12,children:[(0,z.jsx)(f.gN,{as:i.Z,name:"price",label:"Price",placeholder:"Price",type:"number",fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"price"})]}),(0,z.jsxs)(o.ZP,{item:!0,sm:6,xs:12,children:[(0,z.jsx)(f.gN,{as:i.Z,name:"discount",label:"Discount Amount",placeholder:"Discount Value",type:"number",fullWidth:!0}),(0,z.jsx)(f.Bc,{component:l.Z,error:!0,size:"large",sx:{ml:1},name:"discount"})]}),(0,z.jsxs)(o.ZP,{item:!0,xs:12,sm:12,sx:{justifyContent:"center"},children:[(0,z.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",sx:{mt:"2rem",mx:"2rem"},disabled:E,children:E?"Saving...":"Save Product"}),(0,z.jsx)(s.Z,{variant:"contained",color:"secondary",type:"reset",sx:{mt:"2rem",mx:"2rem"},children:"Clear Form"})]})]})})})})]})}},70660:function(e,t,n){n.d(t,{k4:function(){return i},tG:function(){return l},n3:function(){return u},yr:function(){return d}});var r=n(15861),a=n(87757),s=n.n(a),c=n(5875),o=n(29396),i=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.L_,payload:e}),t.prev=1,t.next=4,o.k4(e);case 4:r=t.sent,a=r.data,n({type:c.JV,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:c.ur,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.FH}),e.prev=1,e.next=4,o.CP();case 4:n=e.sent,r=n.data,t({type:c.bm,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:c.Yk,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.qe,payload:e}),t.prev=1,t.next=4,o.n3(e);case 4:r=t.sent,a=r.data,n({type:c.hH,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:c.uI,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.EX,payload:e}),t.prev=1,t.next=4,o.bA(e);case 4:r=t.sent,a=r.data,n({type:c.Ju}),a&&l(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:c.LK,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},96166:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)([(0,a.jsx)("path",{d:"M15 17h2v-3h1v-2l-1-5H2l-1 5v2h1v6h9v-6h4v3zm-6 1H4v-4h5v4zM2 4h15v2H2z"},"0"),(0,a.jsx)("path",{d:"M20 18v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},"1")],"AddBusiness")}}]);
//# sourceMappingURL=4871.e94e584f.chunk.js.map